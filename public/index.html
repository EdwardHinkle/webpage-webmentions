<!doctype html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  <title>A WebMention Endpoint</title>
  <link href='//fonts.googleapis.com/css?family=Faster+One' rel='stylesheet' type='text/css'>
  <link rel="webmention" href="/api/webmention" />
  <link rel="stylesheet" type="text/css" href="/style.css" />
  <script type="text/javascript">
    document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/,'js');
  </script>
</head>
<body>
  <div id="header">
    <h1><a href="/">A <em>WebMention</em> Endpoint</a></h1>
    <div class="subtitle">Easily accept and embed WebMentions on all type of sites</div>
    <div class="subtitle warning">A work in progress, <a href="https://github.com/voxpelli/webpage-webmentions/issues">report bugs and missing features</a></div>
  </div>
  <div id="main">
    <div class="receive">
      <h2>How do I receive?</h2>
      <p>You receive WebMentions through this service in <strong>three easy steps</strong>:</p>
      <ol>
        <li class="first-step">
          <p>You <strong>sign in</strong> using one of these services:</p>
          <ul>
            <li>
              <form action="/user/auth/github" method="post">
                <div><button type="submit">Sign in with GitHub</button></div>
              </form>
            </li>
          </ul>
        </li>
        <li class="second-step">
          <p>Then you add the <strong>domain name</strong> (eg. example.com) of the site you want to accept WebMentions for:</p>
          <form action="/user/sites" method="post">
            <p>
              <label>Domain name: <input type="text" name="hostname" placeholder="example.com" /></label>
              <button type="submit">Add domain name</button>
            </p>
          </form>
        </li>
        <li>
          <p>Lastly you add the following <strong>WebMention endpoint</strong> to the HTML-head of your posts and the following <strong>HTML-snippet</strong> where you want to embed the mentions. See the <a href="/documentation.html">documentation</a> for alternatives.</p>
          <textarea class="webmention-link" readonly><link rel="webmention" href="http://example.com/api/webmention" /></textarea>
          <textarea class="webmention-embed" readonly><script id="webmention-hosted">
  (function () {
    var sn = document.createElement("script"), s = document.getElementsByTagName("script")[0], url;
    url = document.querySelectorAll ? document.querySelectorAll("link[rel~=canonical]") : false;
    url = url && url[0] ? url[0].href : false;
    sn.type = "text/javascript"; sn.async = true;
    sn.src = "//example.com/api/embed?url=" + encodeURIComponent(url || window.location);
    s.parentNode.insertBefore(sn, s);
  }());
</script></textarea>
        </li>
        <li>(Add some cool styles!)</li>
      </ol>
    </div>
    <div>
      <h2>How do I send?</h2>
      <p>For now refer to the <a href="http://indiewebcamp.com/webmention">IndieWebCamp wiki</a> for information on how to send WebMentions.</p>
    </div>
    <div>
      <h2>Keep updated</h2>
      <p>
        Be sure to
        <input type="button" onclick="(function(btn){var z=document.createElement('script');document.subtomeBtn=btn;z.src='https://www.subtome.com/load.js';document.body.appendChild(z);})(this)" value="subscribe to the release notes" data-subtome-resource="https://webmention.herokuapp.com" data-subtome-feeds="https://github.com/voxpelli/webpage-webmentions/releases.atom" />
        to keep up to date on additions, tweaks and fixes of the service.
      </p>
    </div>
    <div>
      <h2>FAQ</h2>

      <h3>Purpose of this service?</h3>
      <p>To accept and display <a href="http://indiewebcamp.com/webmention">WebMentions</a> on people's site. Especially handy if the site is a static one – eg. based on <a href="http://jekyllrb.com/">Jekyll</a> and perhaps hosted on something like <a href="http://pages.github.com/">GitHub Pages</a> – because then you can't really handle WebMentions in the site itself.</p>

      <h3>How can I style my mentions?</h3>
      <p>To get up to date example HTML, temporarily replace your WebMention embed with the following script instead. More info in the <a href="/documentation.html">documentation</a>.</p>
      <p><textarea class="webmention-embed-example" readonly><script id="webmention-hosted" src="http://example.com/api/embed?example"></script></textarea></p>
    </div>

    <div>
      <h2>Example: The mentions of this site</h2>
      <script id="webmention-hosted">
        (function () {
          var sn = document.createElement('script'), s = document.getElementsByTagName('script')[0], url;
          url = document.querySelectorAll ? document.querySelectorAll('link[rel~=canonical]') : false;
          url = url && url[0] ? url[0].href : false;
          sn.type = 'text/javascript'; sn.async = true;
          sn.src = '//' + window.location.host + '/api/embed?url=' + encodeURIComponent(url || window.location);
          s.parentNode.insertBefore(sn, s);
        }());
      </script>
    </div>
  </div>

  <address>Open source. Built by <a href="http://voxpelli.com/">VoxPelli</a>. Part of the <a href="http://indiewebcamp.com/">IndieWeb</a> movement.</address>

  <script src="/jquery.min.js" type="text/javascript"></script>
  <script src="/script.js" type="text/javascript"></script>
</body>
