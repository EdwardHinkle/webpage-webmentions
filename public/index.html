<!doctype html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  <title>A WebMention Endpoint</title>
  <link href='//fonts.googleapis.com/css?family=Faster+One' rel='stylesheet' type='text/css'>
  <link rel="webmention" href="/api/webmention" />
  <link rel="stylesheet" type="text/css" href="/style.css" />
  <script type="text/javascript">
    document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/,'js');
  </script>
</head>
<body>
  <div id="header">
    <h1><a href="/">A <em>WebMention</em> Endpoint</a></h1>
    <div class="subtitle">Easily accept and embed WebMentions on all type of sites</div>
    <div class="subtitle warning">A work in progress as of September 2013, use with caution</div>
  </div>
  <div id="main">
    <div class="receive">
      <h2>How do I receive?</h2>
      <p>You receive WebMentions through this service in <strong>three easy steps</strong>:</p>
      <ol>
        <li class="first-step">
          <p>You <strong>sign in</strong> using one of these services:</p>
          <ul>
            <li>
              <form action="/user/auth/github" method="post">
                <div><button type="submit">Sign in with GitHub</button></div>
              </form>
            </li>
          </ul>
        </li>
        <li class="second-step">
          <p>Then you add the <strong>domain name</strong> (eg. example.com) of the site you want to accept WebMentions for:</p>
          <form action="/user/sites" method="post">
            <p>
              <label>Domain name: <input type="text" name="hostname" placeholder="example.com" /></label>
              <button type="submit">Add domain name</button>
            </p>
          </form>
        </li>
        <li>
          <p>Lastly you add this <strong>WebMention endpoint</strong> to the HTML-head of your posts and the following <strong>HTML-snippet</strong> where you want to embed the mentions:</p>
          <textarea class="webmention-link" readonly><link rel="webmention" href="http://example.com/api/webmention" /></textarea>
          <textarea class="webmention-embed" readonly><script id="webmention-hosted">
  (function () {
    var sn = document.createElement("script"), s = document.getElementsByTagName("script")[0], url;
    url = document.querySelectorAll ? document.querySelectorAll("link[rel~=canonical]") : false;
    url = url && url[0] ? url[0].href : false;
    sn.type = "text/javascript"; sn.async = true;
    sn.src = "//example.com/api/embed?url=" + encodeURIComponent(url || window.location);
    s.parentNode.insertBefore(sn, s);
  }());
</script></textarea>
        </li>
        <li>(Add some cool styles!)</li>
      </ol>
    </div>
    <div>
      <h2>How do I send?</h2>
      <p>For now refer to the <a href="http://indiewebcamp.com/webmention">IndieWebCamp wiki</a> for information on how to send WebMentions.</p>
    </div>
    <div>
      <h2>Example: The mentions of this site</h2>
      <script id="webmention-hosted">
        (function () {
          var sn = document.createElement('script'), s = document.getElementsByTagName('script')[0], url;
          url = document.querySelectorAll ? document.querySelectorAll('link[rel~=canonical]') : false;
          url = url && url[0] ? url[0].href : false;
          sn.type = 'text/javascript'; sn.async = true;
          sn.src = '//' + window.location.host + '/api/embed?url=' + encodeURIComponent(url || window.location);
          s.parentNode.insertBefore(sn, s);
        }());
      </script>
    </div>
  </div>
  <div id="siteinfo">
    <h2>Why this?</h2>
    <p>It's a service for accepting and displaying <a href="http://indiewebcamp.com/webmention">WebMentions</a> on your site. Handy if you're hosting a static blog, like a <a href="http://jekyllrb.com/">Jekyll</a> one, on something like <a href="http://pages.github.com/">GitHub Pages</a> where you then can't really handle the mentions by yourself.</p>
  </div>
  <address>Built by <a href="http://voxpelli.com/">VoxPelli</a>. Part of the <a href="http://indiewebcamp.com/">IndieWeb</a> movement.</address>

  <script src="/jquery.min.js" type="text/javascript"></script>
  <script src="/script.js" type="text/javascript"></script>
</body>
